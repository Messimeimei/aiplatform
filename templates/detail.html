{% extends "base.html" %}
{% block title %}详情 - AI关键技术及产品智能发现平台{% endblock %}
{% block content %}
    <h1>条目详情</h1>
    <div id="box" class="detail">加载中…</div>
    <script>
        (async () => {
            const id = {{ item_id }};
            const res = await fetch(`/api/detail/${id}`);
            const d = await res.json();
            const el = document.getElementById('box');
            if (!d || !d.id) {
                el.textContent = "未找到";
                return;
            }
            el.innerHTML = `
    <div class="title">${d.name || '-'}</div>
    <div class="meta">${d.kind || '-'} · ${d.field || '-'} · ${d.country || '-'} · ${d.year || '-'}</div>
    <p>${d.abstract || ''}</p>
    <p><a class="btn" href="/portrait/${d.id}">进入全画像</a></p>
  `;
        })();
    </script>
{% endblock %}
